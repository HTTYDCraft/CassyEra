
:root {
    /* Тёмная тема: нежный светло-голубой */
    --md-sys-color-primary-dark: #A8C7FA;
    --md-sys-color-on-primary-dark: #003258;

    /* Светлая тема: более мягкий и приятный синий */
    --md-sys-color-primary-light: #1A73E8;
    --md-sys-color-on-primary-light: #FFFFFF;
}

/* Разрешаем выделение текста на главной (overrides из /links/css/style.css) */
.card, .card * { user-select: text !important; -webkit-user-select: text !important; }

/* Глобальный box-sizing */
html { box-sizing: border-box; }
*, *::before, *::after { box-sizing: inherit; }

/* Единый hover-стиль, как на ПК. На мобиле мы эмулируем через .is-hover */
.card {
    transition: transform .2s ease, box-shadow .2s ease;
    -webkit-tap-highlight-color: rgba(168, 199, 250, .25);
    will-change: transform;
}
.card:hover {
    transform: translateY(-3px);
    box-shadow: var(--md-sys-color-primary-dark) 0 4px 12px;
}
body.light-theme .card:hover {
    box-shadow: var(--md-sys-color-primary-light) 0 4px 12px;
}
/* Эмуляция hover на тач-устройствах */
.card.is-hover {
    transform: translateY(-3px);
    box-shadow: var(--md-sys-color-primary-dark) 0 4px 12px !important;
}
body.light-theme .card.is-hover {
    box-shadow: var(--md-sys-color-primary-light) 0 4px 12px !important;
}
/* Доступность по клавиатуре — тот же эффект */
.card:focus-visible { outline: none; }
.card:focus-visible { transform: translateY(-3px); box-shadow: var(--md-sys-color-primary-dark) 0 4px 12px; }
body.light-theme .card:focus-visible { box-shadow: var(--md-sys-color-primary-light) 0 4px 12px; }

/* HERO */
.hero { text-align:center; }
.hero .avatar {
    width:112px; height:112px; border-radius:9999px; object-fit:cover;
    border:4px solid var(--md-sys-color-primary-dark); display:block; margin:0 auto 16px;
}
.hero h1 { font-size:2.25rem; margin:0 0 6px; }
.hero p { margin:0 0 8px; opacity:.9; }
.hero .followers { color: rgba(255,255,255,.72) !important; }
body.light-theme .hero .followers { color: rgba(0,0,0,.64) !important; }
.hero-cta { margin-top: 12px; }
.hero .cta { display:flex; flex-wrap:wrap; justify-content:center; gap:12px; }

/* Markdown */
.md h2 { font-size:1.6rem; font-weight:700; margin:1rem 0 .5rem; }
.md h3 { font-size:1.25rem; font-weight:700; margin:1rem 0 .5rem; }
.md p { margin:.5rem 0; line-height:1.7; }
.md ul { margin:.5rem 0 .75rem 1.15rem; list-style:disc; }
.md li { margin:.25rem 0; }
.md em { font-style:italic; }
.md strong { font-weight:700; }
.md blockquote { margin:.75rem 0; padding:.5rem .75rem; border-left:4px solid var(--md-sys-color-primary-dark); opacity:.95; }
.md code { background:rgba(255,255,255,.08); padding:.1rem .3rem; border-radius:6px; }
.md pre { background: rgba(255,255,255,.08); padding: .75rem; border-radius: 12px; overflow: auto; }
body.light-theme .md pre { background: rgba(0,0,0,.06); }
.md pre code { background: transparent; padding: 0; }


/* Стили для блока проектов */
.project-item:not(:last-child) {
    padding-bottom: 1rem;
    margin-bottom: 1rem;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}
body.light-theme .project-item:not(:last-child) {
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
}
.project-item .primary-button {
    font-size: 0.875rem; /* 14px */
    padding-top: 0.5rem; /* 8px */
    padding-bottom: 0.5rem; /* 8px */
}

/* Таймлайн и кнопки */
.timeline-controls { display:flex; gap:10px; align-items:center; justify-content:space-between; margin: 14px 0 8px; }
.tl-buttons { display:flex; gap:8px; }
.tl-buttons .tl-btn { display:inline-flex; align-items:center; gap:.5rem; min-height:44px; }
.tl-buttons .tl-btn .material-symbols-outlined { line-height:1; }
/* Иконки-only на телефоне */
@media (max-width: 640px) { .tl-buttons .tl-btn { padding: 8px; min-width:44px; justify-content:center; } .tl-buttons .btn-text { display:none; } }

/* Плитки таймлайна */
#timeline { display:flex; flex-direction:column; gap:12px; }
#timeline details.card { padding: 14px 18px; border-radius: 16px; }
#timeline details.card summary { display:flex; align-items:center; justify-content:space-between; gap:12px; cursor:pointer; list-style:none; }
#timeline details.card summary::-webkit-details-marker { display:none; }
#timeline details.card summary .material-symbols-outlined { transition: transform .2s ease; }
#timeline details[open] summary .material-symbols-outlined { transform: rotate(180deg); }
#timeline .md { padding-top: 8px; }

/* На десктопе — центрируем ширину таймлайна */
@media (min-width: 992px) { #timeline { max-width: 980px; margin: 8px auto 0; } }

/* Сетка главной */
.home-grid { display:grid; gap:24px; }
.home-grid > * { min-width: 0; } /* грид-дети могут сжиматься */

/* Привязка элементов к областям сетки */
#links-cta { grid-area: links; }
#skin { grid-area: skin; }
#hobbies-section { grid-area: hobbies; }
#projects-section { grid-area: projects; }

/* Мобильная раскладка: одна колонка */
.home-grid {
    grid-template-columns: 1fr;
    grid-template-areas:
    "links"
    "hobbies"
    "projects"
    "skin";
}

/* Десктопная раскладка: две колонки */
@media (min-width: 992px) {
    .home-grid {
        grid-template-columns: minmax(320px, 420px) 1fr;
        grid-template-areas:
      "links hobbies"
      "skin  projects";
    }
}

/* SKIN — стабильная область (aspect-ratio), кнопки сверху */
#skin { position: relative; }
.skin-viewer {
    width: 100%;
    aspect-ratio: 1 / 1;
    height: auto;
    background: transparent;
    border-radius: 16px;
    display: grid;
    place-items: center;
    position: relative;
    z-index: 1;
}
#skin-canvas { width:100%; height:100%; display:block; }
.skin-controls {
    display:flex; justify-content:center; align-items:center; gap:10px; flex-wrap:wrap;
    max-width:100%; margin: 14px 0 10px; position: relative; z-index: 2;
}
.mini-button {
    display:inline-flex; align-items:center; justify-content:center;
    height:44px; min-width:44px; padding:0 12px; border-radius:9999px;
    border:1px solid rgba(255,255,255,.1); background:#2d2d2d; color:#fff; cursor:pointer;
    touch-action: manipulation; pointer-events: auto;
}
.mini-button .material-symbols-outlined { font-size:18px; line-height:1; color: currentColor; }
.mini-button.active { background: var(--md-sys-color-primary-dark); color: var(--md-sys-color-on-primary-dark); border-color: transparent; }
body.light-theme .mini-button { background: var(--md-sys-color-surface-container-low-light); color: var(--md-sys-color-on-surface-light); border-color: rgba(0,0,0,.10); }
body.light-theme .mini-button.active { background: var(--md-sys-color-primary-light); color: var(--md-sys-color-on-primary-light); border-color: transparent; }

/* Видео-карусель */
.video-carousel::-webkit-scrollbar { height: 8px; }
.video-carousel::-webkit-scrollbar-track { background: rgba(255,255,255,0.1); border-radius: 10px; }
body.light-theme .video-carousel::-webkit-scrollbar-track { background: rgba(0,0,0,0.1); }
.video-carousel::-webkit-scrollbar-thumb { background: var(--md-sys-color-outline-dark); border-radius: 10px; }
body.light-theme .video-carousel::-webkit-scrollbar-thumb { background: var(--md-sys-color-outline-light); }
.video-carousel::-webkit-scrollbar-thumb:hover { background: var(--md-sys-color-primary-dark); }
body.light-theme .video-carousel::-webkit-scrollbar-thumb:hover { background: var(--md-sys-color-primary-light); }

/* Узкие экраны: одинаковая ширина верхних секций */
@media (max-width: 767px) {
    #page-wrap { padding-left: 16px; padding-right: 16px; }
    #page-wrap > .hero, #page-wrap > .about-card, #page-wrap > .home-grid { margin-left:0 !important; margin-right:0 !important; width:100% !important; }
    #timeline { max-width:none; margin-left:0; margin-right:0; }
}
/* Кнопка навигации — адаптивная ширина на сверхузких */
@media (max-width: 452px) { #links-cta .primary-button { width:100%; justify-content:center; } #links-cta .primary-button span { white-space:normal; } }

/* Reduced motion */
@media (prefers-reduced-motion: reduce) { #timeline details.card summary .material-symbols-outlined { transition: none; } }