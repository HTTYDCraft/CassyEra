<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="icon" href="./links/assets/avatar.png" type="image/png" />
    <title>CassyEra — Главная</title>
    <meta name="description" content="CassyEra — ютубер по Minecraft. Уютный канал без мата: стримы, видео, комьюнити, планы." />

    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,1,0&display=swap" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet" />
    <script src="https://cdn.tailwindcss.com"></script>

    <link rel="stylesheet" href="./links/css/style.css" />
    <link rel="stylesheet" href="./home/home.css" />
</head>
<body class="dark-theme">
<div id="page-wrap" class="w-full max-w-5xl mx-auto p-4 sm:p-6 lg:p-8">

    <!-- Оффлайн-баннер -->
    <div id="offline-warning" class="hidden fixed top-0 left-0 w-full p-3 text-center font-medium z-50 offline-warning rounded-b-lg shadow-lg">
        <span>Вы не в сети. Данные могут быть устаревшими.</span>
    </div>

    <!-- HERO -->
    <section class="hero card m3-shadow-md p-6">
        <img class="avatar m3-shadow-md" src="./links/assets/avatar.png" alt="Avatar" />
        <h1>CassyEra</h1>
        <p id="hero-tagline"></p>
        <div id="totals" class="followers">Всего подписчиков: —</div>
        <div class="cta hero-cta">
            <a id="go-links-btn" href="./links/" class="primary-button rounded-full px-6 py-3 font-medium m3-shadow-md">
                <span class="material-symbols-outlined">link</span><span id="go-links-text">Мои ссылки</span>
            </a>
            <a id="cta-ytsub" href="#" target="_blank" class="support-button rounded-full px-6 py-3 font-medium m3-shadow-md">
                <span class="material-symbols-outlined">subscriptions</span><span id="cta-ytsub-text">Подписаться на YouTube</span>
            </a>
            <a id="cta-telegram" href="#" target="_blank" class="support-button rounded-full px-6 py-3 font-medium m3-shadow-md">
                <span class="material-symbols-outlined">send</span><span id="cta-telegram-text">Telegram</span>
            </a>
            <a id="cta-support" href="#" target="_blank" class="support-button rounded-full px-6 py-3 font-medium m3-shadow-md">
                <span class="material-symbols-outlined">favorite</span><span id="cta-support-text">Поддержать</span>
            </a>
        </div>
    </section>

    <!-- Обо мне + Таймлайн -->
    <section class="about-card card m3-shadow-md p-6 mt-6">
        <div id="about-intro" class="md"></div>

        <div class="timeline-controls">
            <h3 class="text-xl font-bold" id="timeline-title">Лента канала</h3>
            <div class="tl-buttons">
                <button id="tl-expand" class="primary-button rounded-full px-4 py-2 font-medium m3-shadow-md tl-btn" aria-label="Expand timeline">
                    <span class="material-symbols-outlined">unfold_more</span>
                    <span id="tl-expand-text" class="btn-text">Развернуть</span>
                </button>
                <button id="tl-collapse" class="control-button rounded-full px-4 py-2 font-medium m3-shadow-md tl-btn" aria-label="Collapse timeline">
                    <span class="material-symbols-outlined">unfold_less</span>
                    <span id="tl-collapse-text" class="btn-text">Свернуть</span>
                </button>
            </div>
        </div>

        <div id="timeline"></div>

        <div id="about-outro" class="md mt-4"></div>
    </section>

    <!-- GRID -->
    <div id="content-grid" class="home-grid mt-6 no-live">
        <!-- Навигация (слева) -->
        <section class="card m3-shadow-md p-6" id="links-cta">
            <h2 class="text-xl font-bold mb-2" id="nav-title">Навигация</h2>
            <p id="nav-desc" class="text-gray-400 mb-4">Перейдите на страницу со всеми моими ссылками, соцсетями, скином и dev‑инфо.</p>
            <a id="go-links-btn-2" href="./links/" class="primary-button rounded-full px-6 py-3 font-medium m3-shadow-md">
                <span class="material-symbols-outlined">link</span><span id="nav-cta-text">Перейти к ссылкам</span>
            </a>
        </section>

        <!-- LIVE (прозрачный контейнер без «подложки») -->
        <section id="live" class="relative overflow-hidden p-0 hidden">
            <div class="youtube-video-container" id="live-embed-wrap">
                <iframe id="live-embed" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
            </div>
            <div id="live-badge" class="absolute top-3 left-3 px-3 py-1 rounded-full text-white text-xs font-bold live-indicator m3-shadow-md">LIVE</div>

            <!-- Плашка Twitch (имеет свою карточку) -->
            <div id="twitch-notice" class="hidden mt-4 p-4 rounded-2xl text-sm text-center card m3-shadow-md">
                <p class="mb-2" id="twitch-text">Стрим также идёт на Twitch!</p>
                <a id="twitch-link" href="#" target="_blank" class="primary-button inline-flex items-center px-4 py-2 rounded-full font-medium" rel="noopener noreferrer">
                    <span class="material-symbols-outlined text-base">videocam</span><span id="twitch-cta">Смотреть на Twitch</span>
                </a>
            </div>
        </section>

        <!-- Календарь (всегда виден; прозрачный фон) -->
        <section id="calendar" class="p-6">
            <div class="md text-center mb-2">
                <h3 id="live-empty-title">Сейчас стрима нет</h3>
                <p id="live-empty-sub">Обычно стримы по пятницам, 17:00–19:00 МСК.</p>
            </div>

            <div class="cal-nav">
                <button id="cal-prev" class="control-button p-2 rounded-full m3-shadow-md" aria-label="Previous month">
                    <span class="material-symbols-outlined">chevron_left</span>
                </button>
                <div id="cal-label" class="font-medium"></div>
                <button id="cal-next" class="control-button p-2 rounded-full m3-shadow-md" aria-label="Next month">
                    <span class="material-symbols-outlined">chevron_right</span>
                </button>
            </div>

            <div id="cal-weekdays" class="stream-cal-head"></div>
            <div id="cal-grid" class="stream-cal-grid"></div>

            <div class="legend">
                <span class="dot yt"></span><span id="legend-yt">YouTube</span>
                <span class="dot tw"></span><span id="legend-tw">Twitch</span>
                <span class="dot both"></span><span id="legend-both">Оба</span>
                <span class="dot planned"></span><span id="legend-planned">Потенциальный</span>
                <span class="muted" id="legend-missed">Зачёркнутые — стрима не было</span>
            </div>
        </section>

        <!-- Скин (слева под навигацией) -->
        <section id="skin" class="card m3-shadow-md p-6">
            <h2 class="text-xl font-bold text-center mb-4" id="skin-title">Мой скин Minecraft</h2>
            <div id="skin-viewer" class="skin-viewer">
                <canvas id="skin-canvas"></canvas>
            </div>
            <div id="skin-controls" class="skin-controls"></div>
            <div class="flex justify-center mt-2">
                <a id="download-skin" href="./links/assets/skin.png" class="primary-button rounded-full px-6 py-3 font-medium m3-shadow-md" download="minecraft_skin.png" rel="noopener">
                    <span class="material-symbols-outlined">download</span><span id="skin-download-text">Скачать скин</span>
                </a>
            </div>
        </section>
    </div>

    <!-- Видео -->
    <section class="mb-8 mt-6">
        <h2 class="text-xl font-bold mb-3" id="videos-title">Последние видео</h2>
        <div id="carousel" class="flex overflow-x-auto space-x-4 pb-4 video-carousel scroll-smooth"></div>
    </section>

    <!-- Нижние переключатели -->
    <div class="flex justify-center items-center space-x-4 mt-8 mb-8">
        <button id="theme-toggle-bottom" class="control-button p-3 rounded-full m3-shadow-md" aria-label="Toggle theme">
            <span class="material-symbols-outlined" id="theme-icon-bottom">light_mode</span>
        </button>
        <button id="lang-toggle-bottom" class="control-button p-3 rounded-full m3-shadow-md" aria-label="Toggle language">
            <span class="material-symbols-outlined" id="lang-icon-bottom">translate</span>
        </button>
    </div>
</div>

<script type="module" src="./home/home.js"></script>
</body>
</html>