/* Material 3 palette + AMOLED-friendly dark theme */
:root {
    --md-sys-color-primary-dark: #BB86FC;
    --md-sys-color-on-primary-dark: #000000;
    --md-sys-color-primary-container-dark: #4A148C;
    --md-sys-color-on-primary-container-dark: #FFFFFF;
    --md-sys-color-secondary-dark: #03DAC6;
    --md-sys-color-on-secondary-dark: #000000;
    --md-sys-color-surface-dark: #000000;
    --md-sys-color-on-surface-dark: #FFFFFF;
    --md-sys-color-background-dark: #000000;
    --md-sys-color-on-background-dark: #FFFFFF;
    --md-sys-color-surface-container-low-dark: #1F1F1F;
    --md-sys-color-surface-container-dark: #2D2D2D;
    --md-sys-color-outline-dark: #8C8C8C;
    --md-sys-color-error-dark: #CF6679;

    --md-sys-color-primary-light: #6200EE;
    --md-sys-color-on-primary-light: #FFFFFF;
    --md-sys-color-primary-container-light: #BB86FC;
    --md-sys-color-on-primary-container-light: #000000;
    --md-sys-color-secondary-light: #03DAC6;
    --md-sys-color-on-secondary-light: #000000;
    --md-sys-color-surface-light: #FFFFFF;
    --md-sys-color-on-surface-light: #000000;
    --md-sys-color-background-light: #FFFFFF;
    --md-sys-color-on-background-light: #000000;
    --md-sys-color-surface-container-low-light: #F0F0F0;
    --md-sys-color-surface-container-light: #E0E0E0;
    --md-sys-color-outline-light: #BDBDBD;
    --md-sys-color-error-light: #B00020;

    --live-indicator-red: #FF0000;
}

body {
    font-family: 'Roboto', sans-serif;
    transition: background-color 0.3s ease, color 0.3s ease;
    display: flex;
    justify-content: center;
    align-items: flex-start;
    min-height: 100vh;
    padding: 20px;
    box-sizing: border-box;
    line-height: 1.6;
    font-weight: 400;
}

.m3-shadow-md { box-shadow: 0 3px 5px rgba(0,0,0,.2), 0 1px 18px rgba(0,0,0,.12), 0 6px 10px rgba(0,0,0,.14); }
.m3-shadow-lg { box-shadow: 0 6px 10px rgba(0,0,0,.2), 0 3px 18px rgba(0,0,0,.12), 0 9px 30px rgba(0,0,0,.14); }

body.dark-theme { background-color: var(--md-sys-color-background-dark); color: var(--md-sys-color-on-background-dark); }
body.dark-theme .card { background-color: var(--md-sys-color-surface-container-low-dark); color: var(--md-sys-color-on-surface-dark); }
body.dark-theme .modal-content, body.dark-theme .dev-page-content { background-color: var(--md-sys-color-surface-container-dark); color: var(--md-sys-color-on-surface-dark); }
body.dark-theme .control-button { background-color: var(--md-sys-color-surface-container-low-dark); color: var(--md-sys-color-on-surface-dark); }
body.dark-theme .control-button:hover { background-color: var(--md-sys-color-surface-container-dark); }
body.dark-theme .primary-button { background-color: var(--md-sys-color-primary-dark); color: var(--md-sys-color-on-primary-dark); }
body.dark-theme .primary-button:hover { background-color: var(--md-sys-color-primary-container-dark); color: var(--md-sys-color-on-primary-container-dark); }
body.dark-theme .support-button { background-color: #4CAF50; color: var(--md-sys-color-on-primary-dark); }
body.dark-theme .support-button:hover { background-color: #388E3C; }
body.dark-theme .offline-warning { background-color: #FFB300; color: #212121; }

body.light-theme { background-color: var(--md-sys-color-background-light); color: var(--md-sys-color-on-background-light); }
body.light-theme .card { background-color: var(--md-sys-color-surface-container-low-light); color: var(--md-sys-color-on-surface-light); }
body.light-theme .modal-content, body.light-theme .dev-page-content { background-color: var(--md-sys-color-surface-container-light); color: var(--md-sys-color-on-surface-light); }
body.light-theme .control-button { background-color: var(--md-sys-color-surface-container-low-light); color: var(--md-sys-color-on-surface-light); }
body.light-theme .control-button:hover { background-color: var(--md-sys-color-surface-container-light); }
body.light-theme .primary-button { background-color: var(--md-sys-color-primary-light); color: var(--md-sys-color-on-primary-light); }
body.light-theme .primary-button:hover { background-color: var(--md-sys-color-primary-container-light); color: var(--md-sys-color-on-primary-container-light); }
body.light-theme .support-button { background-color: #66BB6A; color: var(--md-sys-color-on-primary-light); }
body.light-theme .support-button:hover { background-color: #43A047; }

/* Карточка */
.card { border-radius: 16px; transition: background-color .3s ease, transform .2s ease, box-shadow .2s ease; user-select: none; -webkit-user-select: none; }
.card:hover { transform: translateY(-3px); box-shadow: var(--md-sys-color-primary-dark) 0 4px 12px; }
body.light-theme .card:hover { box-shadow: var(--md-sys-color-primary-light) 0 4px 12px; }

/* LIVE badge */
.live-indicator { background-color: var(--live-indicator-red); }

/* Модалки */
.modal { display: none; position: fixed; z-index: 100; left: 0; top: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.7); align-items: center; justify-content: center; backdrop-filter: blur(5px); animation: fadeInBackground .3s ease-out; }
.modal.active { display: flex; }
@keyframes fadeInBackground { from { background-color: rgba(0,0,0,0); backdrop-filter: blur(0px); } to { background-color: rgba(0,0,0,0.7); backdrop-filter: blur(5px); } }
.modal-content, .dev-page-content { padding: 24px; border-radius: 28px; max-width: 90%; animation: fadeIn .3s ease-out; text-align: center; box-shadow: var(--md-sys-color-outline-dark) 0 8px 16px; }
body.light-theme .modal-content, body.light-theme .dev-page-content { box-shadow: var(--md-sys-color-outline-light) 0 8px 16px; }
@keyframes fadeIn { from {opacity:0; transform: scale(.9);} to {opacity:1; transform: scale(1);} }

/* Свайпы */
.card.swiping-right { transform: translateX(60px) scale(0.98); box-shadow: 0 0 20px var(--md-sys-color-primary-dark); background: linear-gradient(to right, var(--md-sys-color-primary-dark) 0%, transparent 100%); }
body.light-theme .card.swiping-right { box-shadow: 0 0 20px var(--md-sys-color-primary-light); background: linear-gradient(to right, var(--md-sys-color-primary-light) 0%, transparent 100%); }
.card.swiping-left { transform: translateX(-60px) scale(0.98); box-shadow: 0 0 20px var(--live-indicator-red); background: linear-gradient(to left, var(--live-indicator-red) 0%, transparent 100%); }

/* Контентная сетка: две конфигурации (с лайвом и без) */
.content-container.grid-layout { display: grid; gap: 24px; }
#live-stream-section { grid-area: live; }
.main-links-block   { grid-area: links; }
#minecraft-block    { grid-area: skin; }

/* Мобильная конфигурация */
.content-container.grid-layout.grid-has-live { grid-template-columns: 1fr; grid-template-areas: "live" "links" "skin"; }
.content-container.grid-layout.grid-no-live  { grid-template-columns: 1fr; grid-template-areas: "links" "skin"; }

/* Десктопная конфигурация */
@media (min-width: 768px) {
    .content-container.grid-layout.grid-has-live { grid-template-columns: 1fr 350px; grid-template-areas: "links live" "links skin"; }
    .content-container.grid-layout.grid-no-live  { grid-template-columns: 1fr 350px; grid-template-areas: "links skin"; }
}

/* Стрим */
.youtube-video-container { position: relative; width: 100%; padding-bottom: 56.25%; height: 0; overflow: hidden; border-radius: 16px; box-shadow: var(--md-sys-color-outline-dark) 0 4px 8px; }
body.light-theme .youtube-video-container { box-shadow: var(--md-sys-color-outline-light) 0 4px 8px; }
.youtube-video-container iframe { position: absolute; inset: 0; width: 100%; height: 100%; }

/* Скин — центр и «невидимый» контейнер */
#minecraft-block { display: flex; flex-direction: column; align-items: center; text-align: center; }
#skin-viewer-container { display: grid; place-items: center; margin-left: auto; margin-right: auto; width: 100%; height: 20rem; box-shadow: none; background: transparent; }
#skin-viewer-container > canvas { display: block; margin: 0 auto; }
@media (max-width: 767px) { #skin-viewer-container { width: clamp(240px, 80vw, 320px); height: clamp(240px, 80vw, 320px); } }

/* Мини‑кнопки анимаций */
.skin-controls { display: flex; justify-content: center; align-items: center; gap: 10px; flex-wrap: wrap; max-width: 100%; margin-top: 16px; margin-bottom: 12px; }
.mini-button { display: inline-flex; align-items: center; justify-content: center; height: 34px; min-width: 36px; padding: 0 10px; border-radius: 9999px; font-size: 12px; line-height: 1; cursor: pointer; border: 1px solid transparent; transition: background-color .2s, color .2s, box-shadow .2s, border-color .2s; flex: 0 0 auto; }
.mini-button .mini-icon.material-symbols-outlined { font-size: 18px; line-height: 1; }

/* Иконки + текст в кнопках — ровный зазор через gap */
.primary-button, .support-button, #twitch-link, #back-to-main-button { display: inline-flex; align-items: center; gap: 0.75rem; }
.primary-button .material-symbols-outlined, .support-button .material-symbols-outlined, #twitch-link .material-symbols-outlined, #back-to-main-button .material-symbols-outlined { margin-right: 0 !important; }

/* Иконки в карточках ссылок — зазор */
.card .flex.items-center.select-none { gap: 0.75rem; }
.icon-large { font-size: 28px; line-height: 1; margin: 0; } /* отступ задаём gap'ом */
.custom-icon-image { width: 28px; height: 28px; margin: 0; object-fit: contain; flex-shrink: 0; }

/* Карусель */
.video-carousel::-webkit-scrollbar { height: 8px; }
.video-carousel::-webkit-scrollbar-track { background: rgba(255,255,255,0.1); border-radius: 10px; }
body.light-theme .video-carousel::-webkit-scrollbar-track { background: rgba(0,0,0,0.1); }
.video-carousel::-webkit-scrollbar-thumb { background: var(--md-sys-color-outline-dark); border-radius: 10px; }
body.light-theme .video-carousel::-webkit-scrollbar-thumb { background: var(--md-sys-color-outline-light); }
.video-carousel::-webkit-scrollbar-thumb:hover { background: var(--md-sys-color-primary-dark); }
body.light-theme .video-carousel::-webkit-scrollbar-thumb:hover { background: var(--md-sys-color-primary-light); }

/* Светлая тема: контейнер скина невидим */
body.light-theme #skin-viewer-container, body.light-theme #skin-viewer-container img { box-shadow: none; background: transparent; }
/* Подсветка активной мини‑кнопки анимации */
body.dark-theme .mini-button.active {
    background-color: var(--md-sys-color-primary-dark);
    color: var(--md-sys-color-on-primary-dark);
    border-color: transparent;
}
body.light-theme .mini-button.active {
    background-color: var(--md-sys-color-primary-light);
    color: var(--md-sys-color-on-primary-light);
    border-color: transparent;
}

/* Материальные иконки в кнопке подхватывают цвет текста */
.mini-button .material-symbols-outlined {
    color: currentColor;
}
